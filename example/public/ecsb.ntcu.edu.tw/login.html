<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>國立臺中教育大學 這只是一個demo網站</title>
    <style type="text/css" nonce="">
        <!--
        @import url("https://ecsb.ntcu.edu.tw/Inc/main.css?ver=202311194835779");
        -->
    </style>
    
</head>
<body>
    <form name="form1" method="post" action="./" id="form1" enctype="text/plain">
<div>
<input type="hidden" name="__VIEWSTATE" id="__VIEWSTATE" value="kEwrlwUBXOdVdynsGciMBXcC2HpbIobC2UuCpWjla2mETZIrgKJ/7ZmBn0q9w/+zY02+zh4tSlTTpTPH2vP/3DI3uLgqOSdGNxdGU0IrjWM=">
</div>

<div>

	<input type="hidden" name="__VIEWSTATEGENERATOR" id="__VIEWSTATEGENERATOR" value="C2EE9ABB">
	<input type="hidden" name="__VIEWSTATEENCRYPTED" id="__VIEWSTATEENCRYPTED" value="">
	<input type="hidden" name="__EVENTVALIDATION" id="__EVENTVALIDATION" value="nS5mfHFY7zCIBBpxcrcwDUFwx6taSPSvnxc5sD6yX1uB9phUY9+OqgrAACPGsdgKrWUJmhRGOOC0t82EvRFZACkjxvx7r7IcCnUq8CdBrnLA+p14ohz/UJlKAR9S9VI4RJcFbJ5Ch29X06GYMaoBZg==">
</div>
        <input type="hidden" name="csrf_token" id="csrf_token" value="5DF8DF29B30BCA72BB4D4E7D4C1EB5EA">
    </form>
    <div id="Waiting" class="WaitingOff">
    </div>
    <div id="nav">
        <div class="container-1200">
            <table>
                <tbody><tr>
                    <td class="container-1000">
                        <h2>
                            <label id="Label_Sch_Name" style="color:#bf9300;">國立臺中教育大學</label>
                        </h2>
                    </td>
                    <td class="container-200" id="google_translate_element">

                    </td>
                </tr>
            </tbody></table>
        </div>
    </div>
    <div id="login" class="container-1024">
        <div class="flex panel">
            <div class="block">
                <div class="title">使用者登入 USER LOGIN</div>
                <div class="form">
                    <div class="input">
                        <div class="label">身分別</div>
                        <select id="User_Type" class="Login_Field">
                            
                        <option value="0">學生</option><option value="2">家長</option><option value="3">新生報到</option><option value="4">畢業生</option></select>
                        <label>&nbsp;</label>
                    </div>
                    <div class="input">
                        <div class="label">
                            <label id="Label_UserAccount">帳號</label>
                        </div>
                        <input id="User_Account" type="text" maxlength="20" value="" class="Login_Field">
                        <label id="LaTape" class="Login_Lb">&nbsp;</label>
                    </div>
                    <div class="input">
                        <div class="label">
                            <label id="Label_UserPassword">密碼</label>
                        </div>
                        <input id="User_Password" type="password" maxlength="20" value="" class="Login_Field">
                        <label id="Label_PWD_Tape" class="Login_Lb">&nbsp;</label>
                    </div>
                    <div class="input div_center TdMiddle">
                        <div class="label">驗證碼</div>
                        <div class="label">
                            <input id="Check_Code" type="text" maxlength="20" value="" class="container-100">
                        </div>
                        <div class="label Login_Lb_Margin_left">
                            <img id="Check_Code_Img" src="data:image/jpeg;base64,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">
                        </div>
                        <div class="label Login_Lb_Margin_left">
                            <input id="Client_Change" type="button" value="換一張" class="container-60">
                        </div>
                    </div>
                    <div class="input">
                        <div class="label"></div>
                        <div class="label Login_Lb_Times">
                            <label id="td_times">60秒後驗證碼將重新產生</label>
                        </div>
                    </div>
                </div>
                <button id="btnAuthBegin" class="login">登入</button>
                <button id="Client_Forget_PWD" class="Forget_PWD_On">忘記密碼</button>
            </div>
            <div class="flex block">
                <img src="https://ecsb.ntcu.edu.tw/Images/demo01.png">
                <img src="https://ecsb.ntcu.edu.tw/Images/demo02.png">
                <img src="https://ecsb.ntcu.edu.tw/Images/demo03.png">
            </div>
        </div>
        <div class="flex word">
            <div class="block">
                <div class="line">
                    <div class="label">
                        系統問題反映：<br>
                    </div>
                    <div class="info PC_Info">
                        請連繫計網中心(2218-3272；2218-3276)<br>
                    </div>
                </div>
                <div class="line">
                    <div class="label">
                        <img src="https://ecsb.ntcu.edu.tw/Images/icon_calendar.png"><div class="info-title">更新日期</div>
                    </div>
                    <div class="info">
                        <label id="Label_UpdateTime">2023/10/26 17:58:55</label>
                    </div>
                </div>
                <div class="line">
                    <div class="label">
                        <img src="https://ecsb.ntcu.edu.tw/Images/icon_building.png"><div class="info-title">業者</div>
                    </div>
                    <div class="info">漢龍資訊科技股份有限公司 系統開發</div>
                </div>
                <div class="line">
                    <div class="label">
                        <img src="https://ecsb.ntcu.edu.tw/Images/icon_location.png"><div class="info-title">地址</div>
                    </div>
                    <div class="info">台北市南港區園區街3-2號5樓之3</div>
                </div>
            </div>
            <div class="block">
                <div class="line">
                    <div class="title">注意事項</div>
                </div>
                <div class="line">
                    <ul class="ml-1 decimal">
                        <li>教職員工為人事代碼。</li>
                        <li>教職員/學生首次登入，密碼為身分證字號；非本國人密碼為生日－西元年月日(YYYYMMDD)共八碼。</li>
                        <li>請使用Google Chrome 瀏覽器。</li>
                    </ul>
                </div>
            </div>
            <div class="block">
                <div class="line clearfix">
                    <div class="banner">
                        校外 Web
                    </div>
                    <div class="content">
                        <a style="color: blue;">學雜費公告(校外Web)</a>
                        <br>
                        <a style="color: blue;">收費系統(校外Web)</a>
                        <br>
                        <a style="color: blue;">場地課表查詢(校外Web)</a>
                        <br>
                        <a style="color: blue;">課程查詢(校外Web)</a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://unpkg.com/@simplewebauthn/browser/dist/bundle/index.es5.umd.min.js"></script>
<script>
	const { startAuthentication } = SimpleWebAuthnBrowser;
	document.querySelector('#btnAuthBegin').addEventListener('click', async () => {
        sessionStorage.clear();
        //const elemSuccess = document.querySelector('#authSuccess');
        const elemError = document.querySelector('#authError');
        //const elemDebug = document.querySelector('#authDebug');

        // Reset success/error messages
        //elemSuccess.innerHTML = '';
        //elemError.innerHTML = '';
        //elemDebug.innerHTML = '';
      
        const resp = await fetch('/generate-authentication-options');

        let asseResp;
        try {
          const opts = await resp.json();
          //printDebug(elemDebug, 'Authentication Options', JSON.stringify(opts, null, 2));

          //hideAuthForm();

          asseResp = await startAuthentication(opts);
          //console.log(asseResp);
          //printDebug(elemDebug, 'Authentication Response', JSON.stringify(asseResp, null, 2));
        } catch (error) {
          //elemError.innerText = error;
          alert('Authenticate failed!');
          //location.href = '/signup.html';
          throw new Error(error);
        }

        
        const verificationResp = await fetch('/verify-authentication', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
          },
          body: JSON.stringify(asseResp),
        });

        const verificationJSON = await verificationResp.json();
        //printDebug(elemDebug, 'Server Response', JSON.stringify(verificationJSON, null, 2));
        if (verificationJSON && verificationJSON.verified) {
          //elemSuccess.innerHTML = `User authenticated!`;
          sessionStorage.setItem("user",asseResp.response.userHandle);
          //console.log(sessionStorage.getItem(asseResp.response.userHandle));
          //sessionStorage.removeItem(asseResp.response.userHandle);
          location.href = './index.html';
        } else {
          /*elemError.innerHTML = `Oh no, something went wrong! Response: <pre>${JSON.stringify(
            verificationJSON,
          )}</pre>`;*/
          alert('Authenticate failed!');
        }
      });
</script>
</body></html>